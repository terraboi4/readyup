'use client';

import { UserButton } from '@clerk/nextjs';
import Image from 'next/image';
import { usePathname } from 'next/navigation';
import { useEffect, useState } from 'react';

export default function Navbar() {
	let path = usePathname();
	const navBlacklist = ['/host', '/join', '/game', '/'];

	if (path.includes('/game')) {
		path = path.slice(0, -7);
	}

	return (
		<div>
			{navBlacklist.includes(path) ? null : (
				<div className='navbar border py-0 mb-3'>
					<div className='navbar-start'>
						<div className='dropdown z-30'>
							<label tabIndex={0} className='btn btn-ghost lg:hidden'>
								<svg
									xmlns='http://www.w3.org/2000/svg'
									className='h-5 w-5'
									fill='none'
									viewBox='0 0 24 24'
									stroke='currentColor'
								>
									<path
										strokeLinecap='round'
										strokeLinejoin='round'
										strokeWidth='2'
										d='M4 6h16M4 12h8m-8 6h16'
									/>
								</svg>
							</label>
							<ul
								tabIndex={0}
								className='menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52'
							>
								<li>
									<a href='/home'>Home</a>
								</li>
								<li>
									<a href='/new-set'>New Set</a>
								</li>
								<li>
									<a href='/your-sets'>Your Sets</a>
								</li>
							</ul>
						</div>
						<a href='/home'>
							<svg
								xmlns='http://www.w3.org/2000/svg'
								width={150}
								height={80}
								viewBox='0 0 112.5 75'
							>
								<defs>
									<clipPath id='a'>
										<path d='M12 23h12v9H12Zm0 0' />
									</clipPath>
									<clipPath id='b'>
										<path d='m13.617 21.078 11.426 3.485-2.832 9.285-11.426-3.485Zm0 0' />
									</clipPath>
									<clipPath id='c'>
										<path d='m13.617 21.078 11.426 3.485-2.832 9.285-11.426-3.485Zm0 0' />
									</clipPath>
								</defs>
								<g clipPath='url(#a)'>
									<g clipPath='url(#b)'>
										<g clipPath='url(#c)'>
											<path
												fill='#8de41e'
												d='m20.793 26.898 2.156-2.605a.386.386 0 0 1 .684.277l-.535 6.446a.382.382 0 0 1-.305.347c-1.078.215-5.094.88-9.398-.32a.388.388 0 0 1-.282-.352l-.312-6.496a.384.384 0 0 1 .68-.265l2.269 2.785c.164.203.48.183.621-.031l1.774-2.758a.385.385 0 0 1 .671.047l1.329 2.847a.388.388 0 0 0 .648.078Zm0 0'
											/>
										</g>
									</g>
								</g>
								<path d='M13.176 48.29V33.274h5.515c1.207 0 2.196.203 2.969.61.781.406 1.363.96 1.75 1.656.383.687.578 1.453.578 2.296 0 .918-.242 1.758-.719 2.516-.48.762-1.226 1.313-2.234 1.656l3.11 6.282h-3.157l-2.781-5.922h-2.281v5.922Zm2.75-7.938h2.593c.914 0 1.586-.219 2.016-.656.426-.445.64-1.035.64-1.766 0-.719-.214-1.289-.64-1.719-.418-.425-1.094-.64-2.031-.64h-2.578ZM30.748 48.54c-1.074 0-2.028-.227-2.86-.672a5.006 5.006 0 0 1-1.953-1.938c-.468-.832-.703-1.789-.703-2.875 0-1.101.235-2.082.703-2.937a5.173 5.173 0 0 1 1.922-2c.82-.477 1.797-.719 2.922-.719 1.04 0 1.961.23 2.766.687.8.45 1.425 1.075 1.875 1.875.445.793.672 1.672.672 2.641 0 .156-.008.324-.016.5 0 .168-.012.344-.031.531h-8.078c.05.836.335 1.485.859 1.953.52.47 1.156.704 1.906.704.55 0 1.016-.125 1.39-.375.384-.25.673-.57.86-.97h2.781a5 5 0 0 1-1 1.829 4.792 4.792 0 0 1-1.703 1.297c-.68.312-1.449.469-2.312.469Zm.031-8.922a2.95 2.95 0 0 0-1.797.578c-.512.375-.84.95-.984 1.719h5.312c-.054-.696-.312-1.254-.781-1.672-.469-.414-1.055-.625-1.75-.625ZM41.174 48.54c-.918 0-1.668-.149-2.25-.438-.586-.289-1.023-.676-1.312-1.156a3.164 3.164 0 0 1-.422-1.61c0-.988.383-1.789 1.156-2.406.77-.613 1.926-.922 3.469-.922h2.703v-.265c0-.727-.21-1.266-.625-1.61-.406-.343-.918-.515-1.531-.515-.563 0-1.055.136-1.469.406-.418.262-.672.652-.766 1.172H37.44c.07-.781.332-1.453.781-2.016.445-.57 1.031-1.008 1.75-1.312.719-.313 1.52-.469 2.406-.469 1.508 0 2.704.383 3.579 1.14.875.75 1.312 1.82 1.312 3.204v6.547h-2.344l-.25-1.72a3.95 3.95 0 0 1-1.328 1.423c-.562.363-1.289.547-2.172.547Zm.625-2.141c.782 0 1.39-.254 1.828-.766.438-.52.711-1.156.829-1.906h-2.344c-.73 0-1.25.133-1.563.39-.312.262-.468.587-.468.97 0 .417.156.742.468.968.313.23.727.344 1.25.344ZM53.87 48.54c-1 0-1.9-.243-2.688-.72a5.273 5.273 0 0 1-1.86-2c-.46-.843-.687-1.8-.687-2.874 0-1.07.226-2.024.687-2.86a5.213 5.213 0 0 1 1.86-1.968c.789-.477 1.687-.719 2.687-.719.8 0 1.504.152 2.11.453.601.293 1.085.711 1.453 1.25v-6.266h2.75V48.29h-2.454l-.296-1.516a4.845 4.845 0 0 1-1.36 1.234c-.562.352-1.297.532-2.203.532Zm.577-2.391c.883 0 1.61-.297 2.172-.89.57-.594.86-1.36.86-2.298 0-.925-.29-1.687-.86-2.28-.562-.595-1.289-.891-2.172-.891-.867 0-1.586.296-2.156.89-.574.586-.86 1.34-.86 2.266 0 .93.286 1.695.86 2.297.57.605 1.29.906 2.156.906ZM63.391 53.008l2.47-5.422h-.641l-4.141-9.937h2.984l2.985 7.484 3.11-7.484h2.921l-6.766 15.36ZM79.828 48.54c-1.106 0-2.102-.215-2.985-.641a4.938 4.938 0 0 1-2.109-1.984c-.523-.895-.781-2.02-.781-3.375v-9.266h2.75v9.281c0 1.18.281 2.055.844 2.625.562.574 1.343.86 2.343.86.989 0 1.77-.286 2.344-.86.57-.57.86-1.445.86-2.625v-9.281h2.75v9.266c0 1.355-.278 2.48-.829 3.375a5.11 5.11 0 0 1-2.172 1.984c-.906.426-1.914.64-3.015.64ZM87.675 53.008V37.65h2.453l.297 1.516c.344-.47.797-.88 1.36-1.235.562-.351 1.297-.531 2.203-.531 1 0 1.89.246 2.672.734.789.48 1.414 1.141 1.875 1.985.457.843.687 1.804.687 2.875 0 1.074-.23 2.027-.687 2.86a5.166 5.166 0 0 1-1.875 1.968c-.782.476-1.672.719-2.672.719-.805 0-1.508-.149-2.11-.438a3.855 3.855 0 0 1-1.453-1.266v6.172Zm5.735-6.859c.875 0 1.593-.29 2.156-.875.57-.594.86-1.352.86-2.281 0-.926-.29-1.692-.86-2.297-.563-.602-1.281-.906-2.156-.906-.887 0-1.617.296-2.188.89-.562.594-.844 1.356-.844 2.281 0 .938.282 1.704.844 2.297.57.594 1.301.891 2.188.891Zm0 0' />
							</svg>
						</a>
					</div>
					<div className='navbar-center hidden lg:flex'>
						<ul className='menu menu-horizontal px-1 z-30'>
							<li>
								<a href='/home'>Home</a>
							</li>
							<li>
								<a href='/new-set'>New Set</a>
							</li>
							<li>
								<a href='/your-sets'>Your Sets</a>
							</li>
						</ul>
					</div>
					<div className='navbar-end space-x-2'>
						<a href='/join'>
							<button className='btn btn-primary'>
								<span>
									<svg
										xmlns='http://www.w3.org/2000/svg'
										fill='none'
										viewBox='0 0 24 24'
										strokeWidth={1.5}
										stroke='currentColor'
										className='w-6 h-6'
									>
										<path
											strokeLinecap='round'
											strokeLinejoin='round'
											d='M12 4.5v15m7.5-7.5h-15'
										/>
									</svg>
								</span>
								Join Game
							</button>
						</a>
						<UserButton afterSignOutUrl='/' />
					</div>
				</div>
			)}
		</div>
	);
}
